<!doctype html><html><head><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><title>Blog Title - 1st freewall experiment</title><link href="/assets/css/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/assets/css/all.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/assets/css/monokai.css" media="screen" rel="stylesheet" type="text/css" /><script src="/assets/js/all.js" type="text/javascript"></script></head><body><ul><li><a href="/blog/tags/posts.html">posts</a></li><li><a href="/blog/tags/experiments.html">experiments</a></li></ul><div id="main" role="main"><p>You can't invoke <code>wall.fitWidth()</code>until all the images are loaded. </p><div class="free-wall" id="freewall"><div class="brick" style="width:329px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:112px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:593px;"><img src="/assets/images/pixels/3_pixel.jpg" width="100%" /></div><div class="brick" style="width:372px;"><img src="/assets/images/pixels/3_pixel.jpg" width="100%" /></div><div class="brick" style="width:193px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:467px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:588px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:332px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:521px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:181px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:442px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:531px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:525px;"><img src="/assets/images/pixels/5_pixel.jpg" width="100%" /></div><div class="brick" style="width:531px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:353px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:409px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:268px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:240px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:412px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:214px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:252px;"><img src="/assets/images/pixels/3_pixel.jpg" width="100%" /></div><div class="brick" style="width:255px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:191px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:550px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:496px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:111px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:341px;"><img src="/assets/images/pixels/5_pixel.jpg" width="100%" /></div><div class="brick" style="width:494px;"><img src="/assets/images/pixels/5_pixel.jpg" width="100%" /></div><div class="brick" style="width:193px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:116px;"><img src="/assets/images/pixels/3_pixel.jpg" width="100%" /></div><div class="brick" style="width:492px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:256px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:361px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:522px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:515px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:137px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:327px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:234px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:361px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:296px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:272px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:469px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:264px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:324px;"><img src="/assets/images/pixels/1_pixel.jpg" width="100%" /></div><div class="brick" style="width:587px;"><img src="/assets/images/pixels/0_pixel.jpg" width="100%" /></div><div class="brick" style="width:287px;"><img src="/assets/images/pixels/5_pixel.jpg" width="100%" /></div><div class="brick" style="width:345px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:494px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div><div class="brick" style="width:266px;"><img src="/assets/images/pixels/2_pixel.jpg" width="100%" /></div><div class="brick" style="width:457px;"><img src="/assets/images/pixels/4_pixel.jpg" width="100%" /></div></div><script type="text/javascript" src="/assets/js/vendor/bower_components/jquery/jquery.js"></script><script type="text/javascript" src="http://vnjs.net/www/project/freewall/freewall.js"></script><style type="text/css">.free-wall {margin: 15px;}</style><script type="text/javascript">var wall = new freewall("#freewall");
wall.reset({
  selector: '.brick',
  animate: true,
  cellW: 100,
  cellH: 'auto',
  onResize: function() {
    wall.fitWidth();
  }
});

var images = wall.container.find('.brick');
var length = images.length;

images.find('img').load(function() {
  -- length;
  if (!length) {
    setTimeout(function() {
      images.css({visibility: 'visible'});
      wall.fitWidth();
    }, 505);
  }
});

wall.fitWidth();</script></div><footer>2014 Adam Wong adamwong246@gmail.com</footer></body></html>