<!doctype html><html><head><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><title>How I manage my layouts</title><link href="/assets/css/normalize.css" media="screen" rel="stylesheet" type="text/css" /><link href="/assets/css/github.css" media="screen" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Raleway:400,200,700" media="screen" rel="stylesheet" type="text/css" /><link href="/assets/css/base.css" media="screen" rel="stylesheet" type="text/css" /><script src="/assets/js/google_analytics.js" type="text/javascript"></script></head><body class="HolyGrail"><header></header><div class="HolyGrail-body"><div class="HolyGrail-content" id="main" role="main">  <article>
    <h2>
      <a href="/blog/2014/02/08/how-i-manage-my-layouts.html">How I manage my layouts</a> <span>Feb  8</span>
    </h2>
    
    <p>I took a closer inspection of my routes today and then overhauled most of it. My layouts are a nested parallel of an html document. </p><p>First the droll details of the html head. Anything rendered within this layout is at least styled.</p><div class="titled-code-block"><h6><a href="https://github.com/adamwong246/adamwong246.github.io/blob/middleman/source/layouts/html_and_head.slim">html_and_head.slim</a></h6><pre class="codehilite ruby"><span class="o">|</span> <span class="o">&lt;!</span><span class="n">doctype</span> <span class="n">html</span><span class="o">&gt;</span>
<span class="n">html</span>
<span class="err">  </span><span class="n">head</span>
<span class="err">    </span><span class="n">meta</span> <span class="n">charset</span><span class="o">=</span><span class="s2">"utf-8"</span>
<span class="err">    </span><span class="n">meta</span> <span class="n">content</span><span class="o">=</span><span class="s2">"IE=edge;chrome=1"</span> <span class="n">http</span><span class="o">-</span><span class="n">equiv</span><span class="o">=</span><span class="s2">"X-UA-Compatible"</span>
<span class="err">    </span>
<span class="err">    </span><span class="n">title</span><span class="o">=</span> <span class="n">current_article</span><span class="p">.</span><span class="nf">title</span> <span class="k">rescue</span> <span class="s1">'adamwong246.github.io'</span>

<span class="err">    </span><span class="o">=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'normalize'</span>
<span class="err">    </span><span class="o">=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'github'</span>
<span class="err">    </span><span class="o">=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'http://fonts.googleapis.com/css?family=Raleway:400,200,700'</span>
<span class="err">    </span><span class="o">=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'base'</span>

<span class="err">    </span><span class="o">=</span> <span class="n">javascript_include_tag</span> <span class="s2">"google_analytics"</span>

<span class="err">  </span><span class="o">=</span> <span class="k">yield</span></pre></div><a href="/blog/2014/02/08/style-guide-in-html-and-head.html">an example</a><p>Then the body. This is where the overall layout of the entire site is defined.</p><div class="titled-code-block"><h6><a href="https://github.com/adamwong246/adamwong246.github.io/blob/middleman/source/layouts/body.slim">body.slim</a></h6><pre class="codehilite ruby"><span class="o">=</span> <span class="n">wrap_layout</span> <span class="ss">:html_and_head</span> <span class="k">do</span>
<span class="err">  </span><span class="n">body</span><span class="o">.</span><span class="no">HolyGrail</span>
<span class="err">    </span><span class="n">header</span>
<span class="err">    </span><span class="o">.</span><span class="no">HolyGrail</span><span class="o">-</span><span class="n">body</span>
<span class="err">      </span><span class="c1">#main.HolyGrail-content role="main"</span>
<span class="err">        </span><span class="o">=</span> <span class="k">yield</span>
<span class="err">      </span><span class="n">nav</span><span class="o">.</span><span class="no">HolyGrail</span><span class="o">-</span><span class="n">nav</span><span class="p">.</span><span class="nf">sidebar</span>
<span class="err">        </span><span class="p">.</span><span class="nf">hgroup</span>
<span class="err">          </span>
<span class="err">          </span><span class="n">h2</span> 
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/"</span>
<span class="err">              </span><span class="o">|</span> <span class="no">Codesmithery</span>
<span class="err">              </span><span class="n">i</span>  <span class="n">par</span> <span class="n">excellence</span>
<span class="err">          </span>
<span class="err">          </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/"</span>
<span class="err">            </span><span class="o">=</span> <span class="n">image_tag</span><span class="p">(</span><span class="n">gravatar_for</span><span class="p">(</span><span class="s1">'adamwong246@gmail.com'</span><span class="p">))</span>
<span class="err">          </span>
<span class="err">          </span><span class="n">h5</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"mailto:adamwong246@gmail.com"</span> <span class="n">title</span><span class="o">=</span><span class="s1">'email'</span>
<span class="err">              </span><span class="o">|</span> <span class="n">adamwong246</span><span class="vi">@gmail</span><span class="p">.</span><span class="nf">com</span> 

<span class="err">          </span><span class="n">h1</span><span class="p">.</span><span class="nf">socials</span>
<span class="err">            </span><span class="n">a</span><span class="p">.</span><span class="nf">github</span> <span class="n">href</span><span class="o">=</span><span class="s2">"https://github.com/adamwong246"</span> <span class="n">title</span><span class="o">=</span><span class="s1">'githubalt'</span>
<span class="err">              </span><span class="n">span</span><span class="p">.</span><span class="nf">symbol</span> <span class="n">circlegithubalt</span>
<span class="err">            </span><span class="n">a</span><span class="p">.</span><span class="nf">stackoverflow</span> <span class="n">href</span><span class="o">=</span><span class="s2">"http://stackoverflow.com/users/614612/adamwong246"</span> <span class="n">title</span><span class="o">=</span><span class="s1">'stackoverflow'</span>
<span class="err">              </span><span class="n">span</span><span class="p">.</span><span class="nf">symbol</span> <span class="n">circlestackoverflow</span>

<span class="err">          </span><span class="n">h1</span><span class="p">.</span><span class="nf">socials</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"http://www.linkedin.com/profile/view?id=69760011&amp;trk=nav_responsive_tab_profile"</span> <span class="n">title</span><span class="o">=</span><span class="s1">'linkedin'</span>
<span class="err">              </span><span class="n">span</span><span class="p">.</span><span class="nf">symbol</span> <span class="n">circlelinkedin</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"https://plus.google.com/104202656400776521456/posts?partnerid=gplp0"</span> <span class="n">title</span><span class="o">=</span><span class="s1">'g_plus'</span>
<span class="err">              </span><span class="n">span</span><span class="p">.</span><span class="nf">symbol</span> <span class="n">circlegoogleplus</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"https://twitter.com/adamwong246"</span> <span class="n">title</span><span class="o">=</span><span class="s1">'twitter'</span>
<span class="err">              </span><span class="n">span</span><span class="p">.</span><span class="nf">symbol</span> <span class="n">circletwitter</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"https://www.facebook.com/adamwong246"</span> <span class="n">title</span><span class="o">=</span><span class="s2">"facebook"</span>  
<span class="err">              </span><span class="n">span</span><span class="p">.</span><span class="nf">symbol</span> <span class="n">circlefacebook</span>

<span class="err">          </span><span class="n">h3</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/about_me.html"</span> <span class="n">about</span> <span class="n">me</span>

<span class="err">          </span><span class="o">-</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span>
<span class="err">            </span><span class="n">h4</span><span class="o">=</span> <span class="n">link_to</span> <span class="n">tag</span><span class="p">,</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>

<span class="err">          </span><span class="n">h6</span>
<span class="err">            </span><span class="o">-</span> <span class="n">recent_post</span> <span class="o">=</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="o">[</span><span class="s2">"posts"</span><span class="o">]</span><span class="p">.</span><span class="nf">first</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="n">recent_post</span><span class="p">.</span><span class="nf">url</span>
<span class="err">              </span><span class="o">|</span> <span class="no">Recent</span> <span class="ss">post: 
</span><span class="err">              </span><span class="o">=</span> <span class="n">recent_post</span><span class="p">.</span><span class="nf">title</span>

<span class="err">          </span><span class="n">h1</span><span class="p">.</span><span class="nf">socials</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/feed.xml"</span> <span class="n">title</span><span class="o">=</span><span class="s2">"rss"</span>
<span class="err">              </span><span class="n">span</span><span class="p">.</span><span class="nf">symbol</span> <span class="n">circlerss</span>
<span class="err">              </span>
<span class="err">      </span><span class="n">aside</span><span class="o">.</span><span class="no">HolyGrail</span><span class="o">-</span><span class="n">ads</span>
<span class="err">        </span><span class="p">.</span><span class="nf">footer</span><span class="o">-</span><span class="n">asider</span>
<span class="err">          </span><span class="n">h5</span> <span class="no">The</span> <span class="n">thoughts</span> <span class="n">and</span> <span class="n">writing</span> <span class="n">expressed</span> <span class="n">herein</span> <span class="n">are</span> <span class="n">mine</span> <span class="n">alone</span> <span class="n">and</span> <span class="k">do</span> <span class="n">not</span> <span class="n">reflect</span> <span class="n">upon</span> <span class="n">my</span> <span class="n">employer</span> <span class="n">nor</span> <span class="n">any</span> <span class="n">other</span> <span class="n">organization</span> <span class="n">or</span> <span class="n">individual</span><span class="o">.</span> 
<span class="err">          </span><span class="n">h5</span> <span class="o">=</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s1">'%Y-%m-%d %l:%M:%S'</span><span class="p">)</span>
<span class="err">          </span><span class="n">h5</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"http://www.wtfpl.net/"</span> <span class="no">Released</span> <span class="n">under</span> <span class="n">the</span> <span class="no">WTFPL</span>
<span class="err">          </span><span class="n">h5</span>
<span class="err">            </span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">"https://github.com/adamwong246/adamwong246.github.io"</span> <span class="n">source</span>
<span class="err">          </span><span class="p">.</span><span class="nf">signature</span><span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="s2">"partials/signature"</span><span class="p">)</span>
<span class="err">    </span><span class="n">footer</span><span class="p">.</span><span class="nf">footer</span></pre></div><a href="/blog/2014/02/08/style-guild-in-body.html">an example</a><p>Finally, the post layout. This is what individual blog posts are rendered within. It really just outputs some yaml frontmatter like the date and title.</p><div class="titled-code-block"><h6><a href="https://github.com/adamwong246/adamwong246.github.io/blob/middleman/source/layouts/post.erb">post.erb</a></h6><pre class="codehilite ruby"><span class="o">&lt;</span><span class="sx">% wrap_layout </span><span class="ss">:body</span> <span class="k">do</span> <span class="sx">%&gt;
  &lt;article&gt;</span>
<span class="err">    </span><span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span>
<span class="err">      </span><span class="o">&lt;</span><span class="sx">%= link_to current_article.title, current_article %&gt; &lt;span&gt;&lt;%=</span> <span class="n">current_article</span><span class="p">.</span><span class="nf">date</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s1">'%b %e'</span><span class="p">)</span> <span class="sx">%&gt;&lt;/span&gt;</span>
<span class="err">    </span><span class="o">&lt;</span><span class="sr">/h2&gt;
    
    &lt;%= yield %&gt;

    &lt;%= partial("partials/so</span><span class="n">cial_share</span><span class="s2">") %&gt;
  &lt;/article&gt;
&lt;% end %&gt;</span></pre></div><a href="/blog/2014/02/08/style-guide-in-post.html">an example</a><p>Notice the separation of concerns. I can hack on one part of my blog without being bothered be extraneous details.</p>

    
  </article>
</div><nav class="HolyGrail-nav sidebar"><div class="hgroup"><h2><a href="/">Codesmithery<i> par excellence</i></a></h2><a href="/"><img src="http://www.gravatar.com/avatar/4fd20b85d98a142f6c2f47ab7fd9bfb0.jpg" /></a><h5><a href="mailto:adamwong246@gmail.com" title="email">adamwong246@gmail.com </a></h5><h1 class="socials"><a class="github" href="https://github.com/adamwong246" title="githubalt"><span class="symbol">circlegithubalt</span></a><a class="stackoverflow" href="http://stackoverflow.com/users/614612/adamwong246" title="stackoverflow"><span class="symbol">circlestackoverflow</span></a></h1><h1 class="socials"><a href="http://www.linkedin.com/profile/view?id=69760011&trk=nav_responsive_tab_profile" title="linkedin"><span class="symbol">circlelinkedin</span></a><a href="https://plus.google.com/104202656400776521456/posts?partnerid=gplp0" title="g_plus"><span class="symbol">circlegoogleplus</span></a><a href="https://twitter.com/adamwong246" title="twitter"><span class="symbol">circletwitter</span></a><a href="https://www.facebook.com/adamwong246" title="facebook"><span class="symbol">circlefacebook</span></a></h1><h3><a href="/about_me.html">about me</a></h3><h4><a href="/blog/tags/posts.html">posts</a></h4><h4><a href="/blog/tags/experiments.html">experiments</a></h4><h6><a href="/blog/2014/02/08/how-i-manage-my-layouts.html">Recent post: How I manage my layouts</a></h6><h1 class="socials"><a href="/feed.xml" title="rss"><span class="symbol">circlerss</span></a></h1></div></nav><aside class="HolyGrail-ads"><div class="footer-asider"><h5>The thoughts and writing expressed herein are mine alone and do not reflect upon my employer nor any other organization or individual. </h5><h5>2014-02-09 12:41:08</h5><h5><a href="http://www.wtfpl.net/">Released under the WTFPL</a></h5><h5><a href="https://github.com/adamwong246/adamwong246.github.io">source</a></h5><div class="signature"><object><svg viewBox="0 0 640 480" xmlns="http://www.w3.org/2000/svg"><!-- Created with SVG-edit - http://svg-edit.googlecode.com/ --><g><title>Layer 1</title><g id="svg_1"><path stroke="#FFFFFF" fill="none" stroke-width="5" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" id="svg_28" d="m31.497704,329.275909c1.397758,0 5.713264,-1.109741 12.579849,-4.193268c8.553589,-3.841125 20.910904,-9.939575 55.910461,-22.364166c27.911491,-9.908386 70.982491,-22.026184 123.002998,-36.341827c104.267654,-28.693573 184.504471,-50.319382 271.165665,-72.683578l82.467896,-16.773132"></path><path stroke="#FFFFFF" fill="none" stroke-width="5" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" id="svg_26" d="m30.099941,448.085632c0,1.397766 -2.039057,1.826233 -2.795521,0c-1.069811,-2.582703 1.232979,-11.221802 8.386566,-40.535065c4.098991,-16.796448 14.479336,-59.005249 30.750748,-106.229858c19.878845,-57.694504 42.760948,-113.476639 53.114929,-135.582855c10.605553,-22.64328 17.516258,-35.666718 25.159706,-41.932846c3.897415,-3.195099 8.407516,-5.249481 11.182083,-5.591049c5.71994,-0.70414 9.784332,-1.397758 11.182098,-1.397758c2.795517,0 4.310669,1.342094 5.591049,4.193291c3.083542,6.866592 8.020737,39.200333 13.9776,72.683578c9.219254,51.820892 21.512238,95.363663 40.53508,145.367172c8.029282,21.105835 13.977615,40.535095 18.170898,48.921661c1.397766,2.795532 2.635117,-0.066315 5.591049,-6.988831c6.632416,-15.53241 17.016357,-37.637604 32.148499,-74.081329c15.627228,-37.635986 22.672363,-64.303024 47.523895,-82.467911c6.076904,-4.441833 -5.819092,32.365311 1.397766,111.820908c2.72934,30.049835 17.116272,38.395233 30.750732,29.352997c22.254883,-14.759308 89.456757,-132.787338 190.095551,-272.563477l39.137329,-51.717167l0,-4.193287"></path></g></g></svg></object></div></div></aside></div><footer class="footer"></footer></body></html>