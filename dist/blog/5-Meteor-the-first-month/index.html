<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0"><link href="/style.css" rel="stylesheet" type="text/css"><title>Meteor: the first month</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47887894-1', 'auto');
ga('send', 'pageview');</script><script>window.addEventListener('DOMContentLoaded', (event) => {
  console.log('DOM fully loaded and parsed');
  
  // Select the button
  const btn = document.querySelector(".dark-toggle");
  // Check for dark mode preference at the OS level
  const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
   
  // Get the user's theme preference from local storage, if it's available
  const currentTheme = localStorage.getItem("theme");
  // If the user's preference in localStorage is dark...
  if (currentTheme === "dark") {
    // ...let's toggle the .dark-theme class on the body
    document.body.classList.toggle("dark-theme");
  // Otherwise, if the user's preference in localStorage is light...
  } else {
    // ...let's toggle the .light-theme class on the body
    document.body.classList.toggle("light-theme");
  }        
});

function toggleDark() {
  
  // Get the user's theme preference from local storage, if it's available
  const currentTheme = localStorage.getItem("theme");
  
  // If the user's preference in localStorage is dark...
  if (currentTheme === "dark") {
    document.body.classList.remove("dark-theme");
    localStorage.setItem("theme", "light")

  } else {
    document.body.classList.add("dark-theme");
    localStorage.setItem("theme", "dark")
  }
}
</script></head><body><div id="main-container"><main><article><header><h1><a href="/blog/5-Meteor-the-first-month/index.html">Meteor: the first month</a></h1><h4><time>March 21st 2015</time></h4><hr></header><p>There&apos;s an exciting new stack for optimistic developers called Meteor and I&apos;ve had the great pleasure of focusing on learning it for the past months. This is what I&apos;ve learned.</p>
<p>Meteor is framework based on the high-minded ideal of <em>isomorphic</em> javascript, which is a fancy way of saying, &quot;It&apos;s javascript, on the server too!&quot; I find this notion absolutely titilating, though I&apos;m sure other&apos;s are heaving at the very thought. Ok, that&apos;s fair. But give it a chance! It&apos;s an incredibly flexible technology and with a little bit of experience, you&apos;ll find that Meteor is a fantastic tool for building prototypes which evolve into mature software. Meteor is production ready and the time to dive in is now!</p>
<h2 id="the-basics">The basics</h2>
<h3 id="meteor-is-not-like-rails-">Meteor is not like Rails.</h3>
<p>I&apos;m a RoR guy. I bet if you are reading this, there&apos;s a good chance that you cut your teeth on Rails. <strong>Forget all of it.</strong></p>
<p>Meteor does not use HTTP to communicate between the server and client. Rather, it uses Websockets and the Distributed Data Protocol (DDP) to create magical, reactive variables which map Mongo documents to the view.</p>
<p>Meteor uses Collections to store individual documents but by publishing and subscribing to other collections over DDP. This feels weird, at first, but it&apos;s actually quite natural.</p>
<p>The server publishes some orders</p>
<pre><code>
Meteor.publish &apos;validOrders&apos; -&gt;
 Orders.find {&apos;valid&apos;: true}, {userId: 0}


Meteor.publish &apos;myOrders&apos; -&gt;
 Orders.find {&apos;userId&apos;: Meteor.userId()}</code></pre>
<p>and the client subscribes</p>
<pre><code>Meteor.subscribe &apos;orders&apos;
Meteor.subscribe &apos;myOrders&apos;</code></pre>
<p>Hence, the client <em>has access</em> to a subset of all Order documents. You can even limit not just a set documents, but rather whitelist and blacklist certain attributes. This is an important distinction. The client now has access to</p>
<ul>
<li>Orders of which &quot;belong&quot; to said users</li>
<li>Orders which are valid but not the userId fields</li>
</ul>
<p>And this subscription is now reactive and those order directly map to HTML through you handlebars templates. And the client is usually requesting a subset of records based on a query.</p>
<pre><code>Template.example.helpers
 orders: -&gt;
  Orders.find({active: true})</code></pre>
<p>Therefore, the documents which are shared are the overlap between these 2 subsets- those published by the server and those queried from a helper.</p>
<p>Of course, if you are a beginner, you&apos;ve got the autopublish package installed and every document is simply available to the client. That&apos;s fine for now but don&apos;t leave it in your app forever.</p>
<p>A similar package to look out for is the <code>insecure</code> which allows the &quot;client to write to the database&quot;. It think this is a bit of a mischaracterization, because the client can&apos;t ever &quot;write to the database&quot;, only call Meteor Methods. The <code>insecure</code> package simply implement this niavely- you&apos;l want your version of the same methods to have more security</p>
<p>Overall, the impression upon me is very different from Rails. Rails is about strict separation of logic and view, with a controller to handle the details of http. Meteor is less &quot;opinionated&quot; but it forces you to deal more directly with details in a less abstract way. You need to understand the underlying technology, rather than Rails&apos;s curated DSL&apos;s. Out of the box, Meteor enforces no MVP, though you <em>could</em> implement such. Be careful, because without those rails, it&apos;s easy to tangle your logic and your implementation!</p>
<h3 id="meteor-is-backed-by-a-mongo-db-and-loves-json">Meteor is backed by a mongo db and loves JSON</h3>
<p>Adios SQL! I&apos;ve personally always despised SQL. I <em>get</em> it, sort of, but it never felt natural. Mongo is a breath of fresh air. Not only is every document a plain JSON object, queries are also JSON. Yes, you can have a schema, if you want. Yes, migrations are an real consideration and you have to manage joins yourself.</p>
<h3 id="meteor-requires-yet-another-package-manger-">Meteor requires <strong>yet another</strong> package manger.</h3>
<p>It is, however, a very nice and necessary.</p>
<h3 id="it-uses-a-lot-of-ram">It uses a lot of RAM</h3>
<p>But RAM is cheap, so it&apos;s not a big deal most of the time.</p>
<h3 id="but-it-s-still-just-js">But it&apos;s still just js</h3>
<p>Let&apos;s face facts: node&apos;s asynchronous support is overhyped. Sure, it powerful but the community is fragmented on how to support asynchronous operations. Promises, threads, futures, generators, etc are absolutely overwhelming and bewildering. Meteor does it&apos;s best to shield you from these concerns but you&apos;ll still have to tackle these complex issues at some point.</p></article></main><nav><div id="site_title"><a href="/"><h1>exact change only</h1></a><img src="/assets/headshot.jpg" style="max-width: 40vw; width: 100%"></div><hr><ul><li><a href="/aboutMe/index.html">About me</a></li><li><a href="/resume.html">resume.html</a>, <a href="/resume.pdf">pdf</a>, <a href="/resume.md">md</a></li><li><a href="/sideprojects/index.html">Side projects</a></li></ul><hr><ul><li><a href="/blog/18-Memories-of-Totality/index.html">Memories of Totality</a><br>July 26th 2020</li><li><a href="/blog/17-Motorcycling-in-a-time-of-Covid/index.html">Motorcycling in a time of Covid</a><br>July 21st 2020</li><li><a href="/blog/16-Upgrading-my-resume-with-Puppeteer/index.html">Upgrading my resume with Puppeteer</a><br>April 22nd 2020</li><li><a href="/blog/15-Image-pipeline-v2/index.html">Image pipeline v2</a><br>March 25th 2020</li><li><a href="/blog/14-Introducing-webcrack-the-build-tool-you-never-wanted/index.html">Introducing webcrack - the build tool you never wanted</a><br>March 23rd 2020</li><li><a href="/blog/index.html" class="blog-link">more blog entries...</a></li></ul></nav></div><footer><button onClick="toggleDark()" class="dark-toggle">darkmode</button>  v0.3.7 <a href="https://github.com/adamwong246/adamwong246.github.io">github</a> <a href="/LICENSE.txt">LICENSE</a> <a href="/README.md">README</a> Made with ❤️ and <a href="https://github.com/adamwong246/adamwong246.github.io/tree/dev/webcrack">webcrack</a></footer></body></html>